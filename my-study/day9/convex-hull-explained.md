# 二维凸包详解 - 大白话版

> 本文档用最通俗的语言解释《计算几何及应用》第二章"二维凸包"的核心概念，配合图解让数学小白也能轻松理解。

---

## 目录

1. [凸包是什么？](#1-凸包是什么)
2. [凸包有什么用？](#2-凸包有什么用)
3. [凸组合的概念](#3-凸组合的概念)
4. [凸包的六种定义](#4-凸包的六种定义)
5. [定义之间的关系](#5-定义之间的关系)

---

## 1. 凸包是什么？

### 1.1 最直观的理解：橡皮筋

**想象一下这个场景**：

你在一块木板上钉了一堆钉子（随意位置），然后用一根橡皮筋套住所有钉子。橡皮筋会自动收紧，形成一个多边形。

**这个橡皮筋围成的形状，就是这些钉子的"凸包"！**

```
┌────────────────────────────────────────────────────────────────────────────┐
│                                                                            │
│                        橡 皮 筋 比 喻                                      │
│                                                                            │
│         钉子（散点）                         套上橡皮筋后（凸包）          │
│                                                                            │
│              ●                                     ●                       │
│                    ●                              ╱ ╲                      │
│          ●                                       ╱   ╲                     │
│                                                 ╱  ●  ╲                    │
│               ● ●                              ╱       ╲                   │
│         ●              ●                    ●─╱─────────╲─●                │
│                                              ╲   ● ●    ╱                  │
│              ●                                ╲ ●      ╱                   │
│                   ●                            ╲      ╱                    │
│                                                 ╲    ╱                     │
│                                                  ╲  ╱                      │
│                                                   ╲╱                       │
│                                                    ●                       │
│                                                                            │
│         散落的点                              橡皮筋围成的凸多边形          │
│                                              （凸包）                       │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
```

### 1.2 凸包的两个关键特征

```
┌────────────────────────────────────────────────────────────────────────────┐
│                                                                            │
│   凸包的特征：                                                             │
│                                                                            │
│   1️⃣ 是一个凸多边形（没有凹陷）                                            │
│                                                                            │
│   2️⃣ 是能够包住所有点的"最小"凸多边形                                      │
│                                                                            │
│                                                                            │
│         ✓ 凸包                              ✗ 不是凸包                     │
│                                                                            │
│          ●──────●                              ●──────●                    │
│         ╱        ╲                            ╱        ╲                   │
│        ╱   ● ●    ╲                          │   ● ●   │                   │
│       ╱            ╲                         │╲        │                   │
│      ●      ●       ●                        │ ╲──────╱│                   │
│       ╲            ╱                         │  凹陷   │                   │
│        ╲          ╱                          │        ╱                    │
│         ●────────●                           ●───────●                     │
│                                                                            │
│      最紧凑地包住所有点                      虽然包住了，但不是凸的         │
│                                              不是凸包！                     │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
```

### 1.3 凸包的顶点

**重要观察**：凸包的顶点一定是原始点集中的点！

```
┌────────────────────────────────────────────────────────────────────────────┐
│                                                                            │
│   原始点集有 9 个点                           凸包只有 5 个顶点            │
│                                                                            │
│         ①                                          ①                       │
│            ②                                      ╱ ╲                      │
│       ③                                          ╱   ╲                     │
│                                                 ╱  ②  ╲                    │
│            ④ ⑤                                ╱       ╲                   │
│       ⑥              ⑦                     ③─╱─────────╲─⑦                │
│                                              ╲   ④ ⑤    ╱                  │
│            ⑧                                  ╲ ⑥      ╱                   │
│                   ⑨                            ╲      ╱                    │
│                                                 ╲ ⑧  ╱                     │
│                                                  ╲  ╱                      │
│                                                   ╲╱                       │
│                                                    ⑨                       │
│                                                                            │
│   内部的点（②④⑤⑥⑧）                         凸包顶点：①③⑦⑨              │
│   不是凸包的顶点                              （最外圈的点）                │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
```

---

## 2. 凸包有什么用？

凸包在计算几何中用途非常广泛，书中提到了几个重要应用：

### 2.1 碰撞检测（加速）

**问题**：判断两个复杂物体 O₁ 和 O₂ 是否碰撞。

**直接方法**：检查 O₁ 的每个部分是否与 O₂ 的每个部分相交 → 很慢！

**用凸包加速**：
1. 先计算 O₁ 的凸包 Ô₁ 和 O₂ 的凸包 Ô₂
2. 检测 Ô₁ 和 Ô₂ 是否相交
3. 如果凸包不相交 → 物体**肯定**不碰撞！（快速排除）
4. 如果凸包相交 → 再详细检测

```
┌────────────────────────────────────────────────────────────────────────────┐
│                                                                            │
│                      碰 撞 检 测 加 速                                     │
│                                                                            │
│   情况1：凸包不相交 → 物体肯定不碰撞                                       │
│                                                                            │
│        物体 O₁              物体 O₂                                        │
│      ╭───────╮            ╭───────╮                                        │
│     ╱ ★ ★ ★  ╲          ╱  ◆ ◆ ◆ ╲                                       │
│    │  ★ ★ ★   │        │  ◆ ◆ ◆   │                                       │
│    │   ★ ★    │        │   ◆ ◆    │                                       │
│     ╲        ╱          ╲        ╱                                         │
│      ╰──────╯            ╰──────╯                                          │
│        Ô₁                   Ô₂                                             │
│                                                                            │
│      凸包 Ô₁ 和 Ô₂ 不相交                                                  │
│      结论：O₁ 和 O₂ 肯定不碰撞！                                           │
│      （不需要详细检测，节省大量时间）                                      │
│                                                                            │
│   情况2：凸包相交 → 需要进一步检测                                         │
│                                                                            │
│          ╭───────╮                                                         │
│         ╱ ★ ★╭───┼───╮                                                     │
│        │  ★ ★│◆ ◆│◆ ◆ │                                                    │
│        │   ★ │ ◆ ◆ ◆  │                                                    │
│         ╲    │        ╱                                                    │
│          ╰───┼───╯───╯                                                     │
│              │                                                             │
│         凸包相交了                                                         │
│         但物体本身可能相交，也可能不相交                                   │
│         需要进一步详细检测                                                 │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
```

**为什么有效？**
- 凸包形状简单（只是一个凸多边形），相交检测很快
- 大多数情况下，物体不会碰撞，凸包检测可以快速排除

### 2.2 形状匹配（凸形缺陷树）

**问题**：判断两个物体的形状有多相似？

**方法**：利用凸包建立物体的"凸形缺陷树"（convex deficiency trees）

```
┌────────────────────────────────────────────────────────────────────────────┐
│                                                                            │
│   什么是凸形缺陷？                                                         │
│                                                                            │
│   物体的凸包 减去 物体本身 = 凸形缺陷                                      │
│                                                                            │
│        物体                凸包              凸形缺陷                       │
│                                                                            │
│        ╱╲                 ╱╲                                               │
│       ╱  ╲               ╱  ╲               这三块                         │
│      ╱    ╲             ╱    ╲              阴影区域                       │
│     ╱  ╱╲  ╲           ╱██████╲             就是                          │
│    ╱  ╱  ╲  ╲         ╱████████╲            "凸形缺陷"                     │
│   ╱──╱    ╲──╲       ╱──────────╲                                         │
│                                                                            │
│   五角星              五角星的凸包           凸包 - 原物体                  │
│                      （正五边形）                                          │
│                                                                            │
│   凸形缺陷树：递归地对每个缺陷区域再求凸包，形成树状结构                   │
│   两个物体的凸形缺陷树相似 → 形状相似                                      │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
```

### 2.3 构造其他几何结构

凸包还可以用来构造：
- **Voronoi 图**：一种重要的空间划分结构
- **Delaunay 三角剖分**：与凸包有对偶关系
- **最小外包圆/矩形**：需要先求凸包

---

## 3. 凸组合的概念

### 3.1 什么是凸组合？

**定义**：一个点集 S 中点 p₁, p₂, ..., pₙ 的凸组合为：

```
∑λᵢpᵢ = λ₁p₁ + λ₂p₂ + ... + λₙpₙ
```

其中：
- λᵢ ≥ 0（所有权重非负）
- ∑λᵢ = 1（所有权重之和为 1）

**大白话**：凸组合就是对多个点做"加权平均"，而且：
1. 权重不能是负数
2. 权重加起来必须等于 1

### 3.2 两个点的凸组合 = 线段

```
┌────────────────────────────────────────────────────────────────────────────┐
│                                                                            │
│   两个点 p₁ 和 p₂ 的所有凸组合，形成它们之间的线段                         │
│                                                                            │
│   凸组合公式：λ₁p₁ + λ₂p₂，其中 λ₁ + λ₂ = 1，λ₁,λ₂ ≥ 0                   │
│                                                                            │
│       λ₁=1, λ₂=0        λ₁=0.5, λ₂=0.5        λ₁=0, λ₂=1                  │
│           ↓                    ↓                    ↓                      │
│           ●════════════════════●════════════════════●                      │
│          p₁                   中点                  p₂                     │
│                                                                            │
│   • λ₁=1, λ₂=0  →  1×p₁ + 0×p₂ = p₁（就是 p₁ 本身）                       │
│   • λ₁=0.5, λ₂=0.5  →  0.5×p₁ + 0.5×p₂ = 中点                             │
│   • λ₁=0, λ₂=1  →  0×p₁ + 1×p₂ = p₂（就是 p₂ 本身）                       │
│                                                                            │
│   所以两个点的凸组合 = 两点之间的线段！                                    │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
```

### 3.3 三个点的凸组合 = 三角形

```
┌────────────────────────────────────────────────────────────────────────────┐
│                                                                            │
│   三个点 p₁、p₂、p₃ 的所有凸组合，形成一个三角形                           │
│                                                                            │
│   凸组合公式：λ₁p₁ + λ₂p₂ + λ₃p₃，其中 λ₁ + λ₂ + λ₃ = 1                   │
│                                                                            │
│                    p₁ (λ₁=1, λ₂=0, λ₃=0)                                   │
│                    ╱╲                                                      │
│                   ╱  ╲                                                     │
│                  ╱    ╲                                                    │
│                 ╱      ╲                                                   │
│                ╱   ●    ╲    ← 重心 (λ₁=λ₂=λ₃=1/3)                         │
│               ╱  内部任  ╲                                                 │
│              ╱   意一点   ╲                                                │
│             ╱              ╲                                               │
│            ╱________________╲                                              │
│          p₂                  p₃                                            │
│    (λ₁=0,λ₂=1,λ₃=0)    (λ₁=0,λ₂=0,λ₃=1)                                   │
│                                                                            │
│   三角形内的任意一点都可以表示为三个顶点的凸组合！                         │
│                                                                            │
│   例：重心 = (1/3)p₁ + (1/3)p₂ + (1/3)p₃                                   │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
```

### 3.4 凸组合与凸包的关系

**核心洞察**：一个点集的凸包 = 该点集所有可能的凸组合形成的区域！

这就是凸包定义 1) 的含义。

---

## 4. 凸包的六种定义

书中给出了六种等价的凸包定义。下面用大白话逐一解释：

### 定义 1：凸组合的并

> "d 维空间的点集 S 的凸包是点集 S 中所有 d+1 个点的凸组合的并"

**大白话**：
- 在二维平面上（d=2），取任意 3 个点（d+1=3）
- 这 3 个点的凸组合形成一个三角形
- 把所有可能的三角形合并起来，就是凸包

```
┌────────────────────────────────────────────────────────────────────────────┐
│                                                                            │
│   例：5个点的凸包                                                          │
│                                                                            │
│   点集 S = {p₁, p₂, p₃, p₄, p₅}                                           │
│                                                                            │
│   取任意3个点：                                                            │
│   • p₁p₂p₃ 的凸组合 → 三角形1                                              │
│   • p₁p₂p₄ 的凸组合 → 三角形2                                              │
│   • p₁p₂p₅ 的凸组合 → 三角形3                                              │
│   • ...（共 C(5,3) = 10 个三角形）                                         │
│                                                                            │
│   所有三角形的并 = 凸包                                                    │
│                                                                            │
│        p₁●─────────────●p₂                                                 │
│          ╲╲           ╱╱                                                   │
│           ╲ ╲       ╱ ╱                                                    │
│            ╲  ╲   ╱  ╱                                                     │
│             ╲  ●p₅ ╱                                                       │
│              ╲    ╱                                                        │
│               ╲  ╱                                                         │
│             p₃●══════●p₄                                                   │
│                                                                            │
│   所有三角形的并（阴影区域）= 凸包                                         │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
```

### 定义 2：凸集合的交

> "点集 S 的凸包是所有包含 S 的凸集合的交"

**大白话**：
- 找出所有能够"包住" S 的凸形状（可以有无数个）
- 这些凸形状的公共部分（交集），就是凸包

```
┌────────────────────────────────────────────────────────────────────────────┐
│                                                                            │
│   想象一下：                                                               │
│                                                                            │
│   点集 S（3个点）                                                          │
│                                                                            │
│            ●                                                               │
│                                                                            │
│       ●         ●                                                          │
│                                                                            │
│   能包住这3个点的凸形状：                                                  │
│                                                                            │
│   大圆形        大正方形        大三角形        恰好的三角形               │
│                                                                            │
│    ╭────╮      ┌──────┐         ╱╲              ╱╲                        │
│   │  ●   │     │  ●   │        ╱  ╲            ╱  ╲                       │
│   │      │     │      │       ╱    ╲          ●    ╲                      │
│   │●   ● │     │●   ● │      ╱●    ●╲        ╱      ╲                     │
│    ╰────╯      └──────┘     ╱────────╲      ●────────●                    │
│                                                                            │
│   把所有能包住 S 的凸形状求交集，得到的就是"恰好的三角形"                  │
│   这就是凸包！                                                             │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
```

### 定义 3：半空间的交

> "点集 S 的凸包是所有包含 S 的半空间的交"

**大白话**：
- 半空间 = 一条直线把平面分成两半，其中的一半
- 找出所有"能把 S 包在一边"的半空间
- 这些半空间的公共部分，就是凸包

```
┌────────────────────────────────────────────────────────────────────────────┐
│                                                                            │
│   什么是半空间？                                                           │
│                                                                            │
│   一条直线把平面分成两半：                                                 │
│                                                                            │
│         │                                                                  │
│   半空间│半空间                                                            │
│     A   │  B                                                               │
│         │                                                                  │
│         │                                                                  │
│                                                                            │
│   用半空间"切"出凸包：                                                     │
│                                                                            │
│         ●                                                                  │
│                          用一条直线从上方切                                │
│    ●         ●           ────────────────                                  │
│                              ↓                                             │
│                                                                            │
│   从各个方向用直线"切"，保留包含所有点的那一边                             │
│   最后剩下的区域就是凸包                                                   │
│                                                                            │
│          ╲        ╱                                                        │
│           ╲  ●   ╱        多条直线切出来的                                 │
│            ╲    ╱         公共区域                                         │
│        ●────╲╱────●       就是凸包                                         │
│              ╱╲                                                            │
│             ╱  ╲                                                           │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
```

### 定义 4：最小的凸多边形（最常用！）

> "平面上包含有限个点的点集 S，其凸包是包含 S 的最小的凸多边形 P"

**大白话**：
- 凸包是能够"包住"所有点的最紧凑的凸多边形
- "最小"的意思是：不存在更小的凸多边形也能包住这些点

```
┌────────────────────────────────────────────────────────────────────────────┐
│                                                                            │
│   "最小"是什么意思？                                                       │
│                                                                            │
│   数学表达：不存在凸多边形 P'，使得 P ⊃ P' ⊇ S                            │
│   （P 严格包含 P'，P' 包含 S）                                             │
│                                                                            │
│   大白话：凸包是"刚刚好"包住所有点的凸多边形                               │
│   再小一点就会漏掉某个点！                                                 │
│                                                                            │
│        不是凸包                    是凸包                                  │
│     （太大了，可以更小）        （刚刚好）                                  │
│                                                                            │
│      ┌──────────────┐              ●────────────●                          │
│      │              │             ╱              ╲                         │
│      │   ●          │            ╱    ●          ╲                        │
│      │              │           ╱                 ╲                        │
│      │     ●    ●   │          ●         ●    ●   ●                       │
│      │              │           ╲                 ╱                        │
│      │         ●    │            ╲          ●   ╱                         │
│      │              │             ╲            ╱                           │
│      └──────────────┘              ●──────────●                            │
│                                                                            │
│       这个矩形太大了                这是凸包                               │
│       还可以找到更小的凸多边形      不能再小了                             │
│       来包住这些点                                                         │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
```

**书上说这是最常用的定义**，因为它最直观！

### 定义 5：最小面积的凸多边形

> "平面上包含有限个点的点集 S，其凸包是平面上包围这些点的最小面积的凸多边形"

**大白话**：
- 在所有能包住 S 的凸多边形中
- 凸包是面积最小的那个

### 定义 6：最小周长的凸多边形

> "平面上包含有限个点的点集 S，其凸包是平面上包围这些点的最小周长的凸多边形"

**大白话**：
- 在所有能包住 S 的凸多边形中
- 凸包是周长最小的那个

```
┌────────────────────────────────────────────────────────────────────────────┐
│                                                                            │
│   定义 4、5、6 的关系：                                                    │
│                                                                            │
│   它们说的其实是同一个东西！                                               │
│                                                                            │
│   • 最小的凸多边形                                                         │
│   • 面积最小的凸多边形                                                     │
│   • 周长最小的凸多边形                                                     │
│                                                                            │
│   这三个描述指向同一个凸包！                                               │
│                                                                            │
│   直观理解：                                                               │
│   橡皮筋会自动收紧到最紧的状态，                                           │
│   这个状态同时是：                                                         │
│   - 最紧凑的（定义4）                                                      │
│   - 面积最小的（定义5）                                                    │
│   - 周长最短的（定义6）                                                    │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
```

---

## 5. 定义之间的关系

### 5.1 六种定义等价

书中给出的六种定义，虽然表述不同，但它们定义的是**同一个几何对象**！

```
┌────────────────────────────────────────────────────────────────────────────┐
│                                                                            │
│                    六 种 定 义 的 统 一                                    │
│                                                                            │
│                                                                            │
│        定义1                定义2                定义3                     │
│      凸组合的并           凸集合的交           半空间的交                  │
│           ╲                  │                  ╱                          │
│            ╲                 │                 ╱                           │
│             ╲                │                ╱                            │
│              ╲               │               ╱                             │
│               ╲              │              ╱                              │
│                ╲             │             ╱                               │
│                 ↘           ↓            ↙                                │
│                        ┌─────────┐                                         │
│                        │  凸 包  │                                         │
│                        └─────────┘                                         │
│                 ↗           ↑            ↖                                │
│                ╱             │             ╲                               │
│               ╱              │              ╲                              │
│              ╱               │               ╲                             │
│             ╱                │                ╲                            │
│            ╱                 │                 ╲                           │
│           ╱                  │                  ╲                          │
│        定义4                定义5                定义6                     │
│    最小凸多边形          最小面积             最小周长                     │
│     （最常用）                                                             │
│                                                                            │
│   六条路殊途同归，定义的都是同一个凸包！                                   │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
```

### 5.2 为什么需要这么多定义？

**不同定义适用于不同场景**：

| 定义 | 适用场景 |
|------|----------|
| 定义1（凸组合） | 理论证明、凸包性质推导 |
| 定义2（凸集交） | 凸优化、线性规划 |
| 定义3（半空间交） | 凸包算法设计（如半平面交算法） |
| 定义4（最小凸多边形） | 最直观，日常理解和可视化 |
| 定义5（最小面积） | 优化问题、覆盖问题 |
| 定义6（最小周长） | 优化问题、路径规划 |

---

## 6. 总结

### 6.1 一句话总结凸包

**凸包 = 用橡皮筋套住所有点形成的形状 = 能包住所有点的最小凸多边形**

### 6.2 核心要点速查表

```
┌────────────────────────────────────────────────────────────────────────────┐
│                                                                            │
│   【凸包核心要点】                                                         │
│                                                                            │
│   ┌─────────────────┬──────────────────────────────────────────────────┐  │
│   │     概念        │                   要点                           │  │
│   ├─────────────────┼──────────────────────────────────────────────────┤  │
│   │  凸包是什么     │  包住所有点的最小凸多边形                        │  │
│   ├─────────────────┼──────────────────────────────────────────────────┤  │
│   │  直观理解       │  橡皮筋套钉子                                    │  │
│   ├─────────────────┼──────────────────────────────────────────────────┤  │
│   │  凸包顶点       │  一定是原始点集中的点                            │  │
│   ├─────────────────┼──────────────────────────────────────────────────┤  │
│   │  凸组合         │  加权平均，权重非负且和为1                       │  │
│   ├─────────────────┼──────────────────────────────────────────────────┤  │
│   │  主要应用       │  碰撞检测、形状匹配、构造其他几何结构            │  │
│   ├─────────────────┼──────────────────────────────────────────────────┤  │
│   │  最常用定义     │  定义4：包含 S 的最小凸多边形                    │  │
│   └─────────────────┴──────────────────────────────────────────────────┘  │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
```

### 6.3 下一步学习

学完凸包的定义后，下一步可以学习：
1. **凸包的构造算法**：如 Graham Scan、Jarvis March 等
2. **凸包的时间复杂度**：下界 O(n log n)
3. **三维凸包**：第三章内容

---

*文档创建日期：2026年1月4日*
*参考书籍：《计算几何及应用》第2.1节*
